<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Information</title>
    <link rel="stylesheet" href="../styles/player_info_style.css">
    <link rel="stylesheet" href="../styles/leaderboard_style.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>

<body>
    <div id="playerInfoContainer">
        <h1 class="title">Player Information</h1>

        <!-- Nickname Section -->
        <div class="infoSection">
            <label for="nickname">Nickname:</label>
            <span id="nicknameDisplay"></span>
            <button id="changeNicknameButton">Change Nickname</button>
        </div>

        <!-- Difficulty Dropdown for Leaderboard -->
        <div class="infoSection">
            <label for="playerDifficultyDropdown">Difficulty:</label>
            <select id="playerDifficultyDropdown" class="difficulty-dropdown">
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
                <option value="very hard">Very Hard</option>
                <option value="insane">Insane</option>
                <option value="impossible">Impossible</option>
            </select>
        </div>

        <!-- Player Info Leaderboard Section -->
        <div class="infoSection">
            <h2>Leaderboard</h2>
            <ul id="playerLiveLeaderboard">
                <li id="playerFirstPlaceTemplate" class="first-place-bg" style="display:none;">
                    <span class="nickname nickname-flex">
                        <span class="trophy">üèÜ</span>
                        <span id="playerFirstPlaceNickname"></span>
                    </span>
                    <span class="points" id="playerFirstPlacePoints"></span>
                </li>
            </ul>
        </div>

        <!-- Email Section -->
        <div class="infoSection">
            <label for="email">Email:</label>
            <span id="emailDisplay"></span>
            <button id="changeEmailButton">Change Email</button>
        </div>

        <br>

        <!-- Back to Main Menu -->
        <a href="../../index.html">
            <button id="backToMenuButton">‚¨ÖÔ∏è Back to Main Menu</button>
        </a>

        <!-- Logout Button -->
        <button id="logoutButton">Logout</button>
    </div>

    <!-- Overlays for Nickname and Email Changes -->
    <div id="nicknameOverlay" class="overlay hidden">
        <div class="overlayContent">
            <h2>Change Nickname</h2>
            <form id="nicknameForm">
                <label for="newNickname">New Nickname:</label>
                <input type="text" id="newNickname" required>
                <button type="button" id="saveNicknameButton">Save</button>
                <button type="button" id="cancelNicknameButton">Cancel</button>
            </form>
        </div>
    </div>

    <div id="emailOverlay" class="overlay hidden">
        <div class="overlayContent">
            <h2>Change Email</h2>
            <form id="emailForm">
                <label for="newEmail">New Email:</label>
                <input type="email" id="newEmail" required>
                <button type="button" id="sendOtpButton">Send one-time password</button>
                <button type="button" id="cancelEmailButton">Cancel</button>

                <div id="otpSection" class="hidden">
                    <label for="otp">Enter one-time password:</label>
                    <input type="text" id="otp" required>
                    <button type="button" id="verifyOtpButton">Verify the one-time password</button>
                </div>
            </form>
        </div>
    </div>

    <script src="../../static/js/config.js"></script>
    <script src="../javascript/player_info_script.js"></script>
</body>

</html>